services:
  who-are-you:
    image: 396961015104.dkr.ecr.ap-east-1.amazonaws.com/challenges/who-are-you:latest
    security_opt:
      - no-new-privileges:true
    deploy:
      resources:
        limits:
          cpus: "1"
          memory: 1G
        reservations:
          cpus: "0.25"
          memory: 256M
    restart: unless-stopped
    labels:
      - traefik.enable=true
      - traefik.docker.network=traefik-internal
      - traefik.http.routers.who-are-you.rule=Host(`who-are-you.ctf.empasoft.tech`)
      - traefik.http.services.who-are-you.loadbalancer.server.port=3000
    environment:
      - NUXT_FLAG=ECTF{LLMs_$1_@a3_$2_fun_$3_1nn1t?}
      - NUXT_SOLUTION=1010100101110101100111101011101001110110101100001000111011000101110001101011001001000010011110101011110101111010001010010000010011101100001001101010110100110001101101101111110010000011011000011001100001100101101111101010110011100011110111000100011100001101001100110100111010111011110110000001111100001111101111100000110011110000010111101010011000110011010000011110010001010110110100010101000100110000101100110011111111111010101000001001110011101101110001011001001100111010110111110011100011000001001111100010000110010001010001001100100011100100010010101110010001111011010110000000100101000110111011001010010110001010100010000101011100011100011100110011100010000111101010101100001011010101101000101111110000100110001100110000010101000101100100100011011100101000111000001110111011100000010100110011010000101100011110011111111011101101010000101001110111011011110110111001110110000101111101000100101011001010000101010111101011000111000100101111000100101110110001000000101001011011111001000101011001101101
      - NUXT_DB_PATH=file:/data/challenge.db
    volumes:
      - who-are-you-data:/data
volumes:
  who-are-you-data:
    driver: local
networks:
  default:
    name: traefik-internal
    external: true
